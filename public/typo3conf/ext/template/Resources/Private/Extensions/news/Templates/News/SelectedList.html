<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	  xmlns:n="http://typo3.org/ns/GeorgRinger/News/ViewHelpers"
	  xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers"
	  xmlns:t="http://typo3.org/ns/Mia3/Template/ViewHelpers"
	  data-namespace-typo3-fluid="true">
<f:layout name="General" />
<!--
	=====================
		Templates/News/List.html
-->

<f:section name="content">
	<div class="top-news-container">
		<f:if condition="{news}">
			<f:then>
				<div class="container">
					<t:corneredHeading tag="h2" class="latestNews-headline {f:if(condition: contentObjectData.header_position, then: 'text--{contentObjectData.header_position}', else: 'text--left')}">
						{contentObjectData.header}
					</t:corneredHeading>
				</div>
				<div class="latestNews-container container" id="news-container-{contentObjectData.uid}">
					<f:for each="{news}" as="newsItem" iteration="iterator">
						<f:variable name="page" value="{v:page.info(pageUid: '{t:typoLinkToPageID(link: newsItem.internalurl)}')}"/>
						<f:if condition="{page.hidden} == 0">
							<n:link class="news-teaser-article-link latestNews-item articletype-{newsItem.type}{f:if(condition: newsItem.istopnews, then: ' topnews')}" newsItem="{newsItem}" settings="{settings}" title="{newsItem.title}" additionalAttributes="{settings.itemscope}">
								<n:excludeDisplayedNews newsItem="{newsItem}"/>

								<!-- header -->
								<f:if condition="{newsItem.mediaPreviews}">
									<!-- media preview element -->
									<f:then>
										<div class="latestNews-image-container">
											<f:alias map="{mediaElement: '{newsItem.mediaPreviews.0}'}">
												<f:if condition="{mediaElement.originalResource.type} == 2">
													<f:render partial="BaseImage" section="img" arguments="{image: mediaElement, imageClass: 'teaser-image', variant: 'news_frontPage', noDescriptionClass: 1}"/>
												</f:if>
												<f:if condition="{mediaElement.originalResource.type} == 4">
													<f:render partial="Detail/MediaVideo" arguments="{mediaElement: mediaElement}"/>
												</f:if>
												<f:if condition="{mediaElement.originalResource.type} == 5">
													<f:render partial="BaseImage" section="img" arguments="{image: mediaElement, imageClass: 'teaser-image', variant: 'news_frontPage', noDescriptionClass: 1}"/>
												</f:if>
												<div class="teaser-image-overlay">
													<f:if condition="{newsItem.tags}">
														<!-- Tags -->
														<div class="news-teaser-tags" itemprop="keywords">
															<f:for each="{newsItem.tags}" as="tag">
																<span class="news-teaser-tag">{tag.title}</span>
															</f:for>
														</div>
													</f:if>
												</div>
											</f:alias>
										</div>
									</f:then>
									<f:else>
										<f:if condition="{settings.displayDummyIfNoMedia}">
											<div class="news-img-wrap">
											<span class="no-media-element">
												<f:image class="news-teaser-img" src="{settings.list.media.dummyImage}" title="" alt="" maxWidth="{f:if(condition: settings.media.maxWidth, then: settings.media.maxWidth, else: settings.list.media.image.maxWidth)}" maxHeight="{f:if(condition: settings.media.maxHeight, then: settings.media.maxHeight, else: settings.list.media.image.maxHeight)}"/>
											</span>
											</div>
										</f:if>
									</f:else>
								</f:if>

								<div class="item-content">
									<div class="news-teaser-header">
										<div class="news-teaser-header-link headline-4">
											<span itemprop="headline">{newsItem.title}</span>
										</div>
									</div>

									<!-- teaser -->
									<div class="news-teaser-text display-flex">
										<n:removeMediaTags>
											<p itemprop="description" class="align-self--start">
												<f:if condition="{newsItem.teaser}">
													<f:then>
														<f:format.nl2br>{newsItem.teaser}</f:format.nl2br>
													</f:then>
													<f:else>
														<f:format.nl2br>{newsItem.bodytext}</f:format.nl2br>
													</f:else>
												</f:if>
											</p>
										</n:removeMediaTags>
									</div>

									<div class="news-teaser-more paragraph">
										<f:translate key="LLL:typo3conf/ext/template/Resources/Private/Language/locallang.xlf:news.more-link"/>
									</div>
								</div>
							</n:link>
						</f:if>
					</f:for>
				</div>

				<f:if condition="{settings.listPid}">
					<v:page.info as="hidden" pageUid="{settings.listPid}" field="hidden">
						<f:if condition="{hidden} == '0'">
							<div class="container">
								<div class="news-teaser-more-wrap">
									<f:link.page class="button button-gradient news-teaser-more-button button-fullWidth" pageUid="{settings.listPid}">
										<f:translate key="LLL:typo3conf/ext/template/Resources/Private/Language/locallang.xlf:news.news-teaser-more" />
									</f:link.page>
								</div>
							</div>
						</f:if>
					</v:page.info>

				</f:if>
			</f:then>
			<f:else>
				<div class="no-news-found">
					<f:translate key="LLL:typo3conf/ext/template/Resources/Private/Language/locallang.xlf:news.list_nonewsfound" />
				</div>
			</f:else>
		</f:if>
	</div>
	<!--TYPO3SEARCH_begin-->
</f:section>
</html>