<f:layout name="Default"/>
<f:section name="Main">
  <div class="dividervideoDf1">
    <f:if condition="{data.tx_mask_dividervideo_df1_media}">
      <v:condition.string.contains needle="video" haystack="{data.tx_mask_dividervideo_df1_media.0.originalFile.properties.mime_type}">
        <f:then>
          <video
            {f:if(condition: '{data.tx_mask_dividervideo_df1_autoplay} || {data.tx_mask_dividervideo_df1_overlay}', then: 'autoplay')}
            {f:if(condition: '0 == {data.tx_mask_dividervideo_df1_overlay}', then: 'controls')}
            muted="true"
          >
            <f:for each="{data.tx_mask_dividervideo_df1_media}" as="media">
              <v:condition.string.contains needle="video" haystack="{media.originalFile.properties.mime_type}">
                <source src="{media.originalFile.publicUrl}" type="{media.originalFile.properties.mime_type}" alt="{media.alternative}" title="{media.title}">
              </v:condition.string.contains>
            </f:for>
          </video>
        </f:then>
        <f:else>
          {f:variable(name: 'firstImage', value: {0: data.tx_mask_dividervideo_df1_media.0})}
          <f:render partial="BaseImage" section="Main" arguments="{files: firstImage}"/>
        </f:else>
      </v:condition.string.contains>
    </f:if>

    <f:if condition="{data.tx_mask_dividervideo_df1_overlay}">
      <div class="dividervideoDf1__overlay dividervideoDf1__overlay--{data.tx_mask_dividervideo_df1_overlay}"></div>
    </f:if>
  </div>

</f:section>
