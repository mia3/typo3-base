<f:form class="contact-form" object="{contactFormRequest}" objectName="formData" method="post">
  <f:if condition="{settings.link}">
    <f:form.hidden name="redirect" value="{f:uri.typolink(parameter: settings.link)}"/>
  </f:if>

  <!-- Form validation results -->
  <f:form.validationResults>
    <f:if condition="{validationResults.flattenedErrors}">
      <div class="alert">
        <p>
          <f:translate key="error.headline"/>
        </p>
      </div>
    </f:if>
  </f:form.validationResults>

  <div class="form__main">
    <!-- Field "name" -->
    <f:form.validationResults for="contactFormRequest.name" as="validation">
      <base-input
        :invalid="{validation.errors -> f:count()}"
        validation="{f:translate(key:'error.{validation.errors.0.code}', default: '{validation.errors.0.code}')}"
      >
        <f:form.textfield class="input" placeholder="Name:" property="name"/>
      </base-input>
    </f:form.validationResults>

    <!-- Field "email" -->
    <f:form.validationResults for="contactFormRequest.email" as="validation">
      <base-input
        :invalid="{validation.errors -> f:count()}"
        validation="{f:translate(key:'error.{validation.errors.0.code}', default: '{validation.errors.0.code}')}"
      >
        <f:form.textfield class="input" placeholder="Email:" property="email" required="required"/>
      </base-input>
    </f:form.validationResults>

    <!-- Field "subject" -->
    <f:form.validationResults for="contactFormRequest.subject" as="validation">
      <base-input
        :invalid="{validation.errors -> f:count()}"
        validation="{f:translate(key:'error.{validation.errors.0.code}', default: '{validation.errors.0.code}')}"
      >
        <f:form.textfield class="input" placeholder="Subject:" property="subject" required="required"/>
      </base-input>
    </f:form.validationResults>

    <!-- Field "message" -->
    <f:form.validationResults for="contactFormRequest.message" as="validation">
      <base-input
        element="textarea"
        :autosize="true"
        :invalid="{validation.errors -> f:count()}"
        validation="{f:translate(key:'error.{validation.errors.0.code}', default: '{validation.errors.0.code}')}"
      >
        <f:form.textarea class="textarea" placeholder="Your message for us..." property="message"/>
      </base-input>
    </f:form.validationResults>
  </div>

  <div class="veryImportantField">
    <f:form.textfield property="additionalInformation" tabindex="-1"/>
  </div>

  <!-- Privacy disclaimer -->
  <div class="baseField field--disclaimer">
    <f:format.html>{settings.privacy}</f:format.html>
  </div>

  <div class="baseField {f:if(condition: settings.submit.alignment, then: 'text--{settings.submit.alignment}', else : 'text--right')}">
    <button type="submit" class="{f:if(condition: '{settings.submit.style} != -1', then: 'button {settings.submit.style}', else: 'button')}">
      <f:if condition="{settings.submit.label}">
        <f:then>{settings.submit.label}</f:then>
        <f:else>{f:translate(key:'form.contact.submit')}</f:else>
      </f:if>
    </button>
  </div>
</f:form>
