<div xmlns="http://www.w3.org/1999/xhtml" lang="en"
  xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
  xmlns:flux="http://typo3.org/ns/FluidTYPO3/Flux/ViewHelpers"
  xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers"
  xmlns:t="http://typo3.org/ns/Mia3/Template/ViewHelpers">

  <f:layout name="Content" />

  <f:section name="Configuration">
    <flux:form id="threeColumn" label="Three Column" description="Inhalte kÃ¶nnen mit diesem Element in drei Spalten dargestellt werden." options="{groups: 'Structure'}">
      <flux:form.sheet name="proportion_sheet" label="Distribution" description="Proportion and layout configuration">
        <flux:field.select exclude="false" name="proportion" default="33-33-33" label="Proportion" items="{
                    0:{0:'4 Spalten - 4 Spalten - 4 Spalten',1:'33-33-33'},
                    1:{0:'6 Spalten - 3 Spalten - 3 Spalten',1:'50-25-25'},
                    2:{0:'3 Spalten - 6 Spalten - 3 Spalten',1:'25-50-25'},
                    3:{0:'3 Spalten - 3 Spalten - 6 Spalten',1:'25-25-50'}
                }"
        />
      </flux:form.sheet>
    </flux:form>
    <f:switch expression="{proportion}">
      <f:case value="33-33-33">
        <v:variable.set value="33%" name="left"/>
        <v:variable.set value="33%" name="middle"/>
        <v:variable.set value="33%" name="right"/>
      </f:case>
      <f:case value="50-25-25">
        <v:variable.set value="50%" name="left"/>
        <v:variable.set value="25%" name="middle"/>
        <v:variable.set value="25%" name="right"/>
      </f:case>
      <f:case value="25-50-25">
        <v:variable.set value="25%" name="left"/>
        <v:variable.set value="50%" name="middle"/>
        <v:variable.set value="25%" name="right"/>
      </f:case>
      <f:case value="25-25-50">
        <v:variable.set value="25%" name="left"/>
        <v:variable.set value="25%" name="middle"/>
        <v:variable.set value="50%" name="right"/>
      </f:case>
      <f:defaultCase>
        <v:variable.set value="33%" name="left"/>
        <v:variable.set value="33%" name="middle"/>
        <v:variable.set value="33%" name="right"/>
      </f:defaultCase>
    </f:switch>
    <flux:grid>
      <flux:grid.row>
        <flux:grid.column colPos="99" colspan="{left}" name="columnLeft" label="Left Column"/>
        <flux:grid.column colPos="98" colspan="{middle}" name="columnMiddle" label="Middle Column"/>
        <flux:grid.column colPos="88" colspan="{right}" name="columnRight" label="Right Column"/>
      </flux:grid.row>
    </flux:grid>

  </f:section>

  <f:section name="Preview">
    <strong>Three Columns:</strong>
  </f:section>


  <f:section name="Main">
    <div class="threeColumn threeColumn--{proportion}">
      <div class="threeColumn__left">
        <flux:content.render area="columnLeft"/>
      </div>
      <div class="threeColumn__middle">
        <flux:content.render area="columnMiddle"/>
      </div>
      <div class="threeColumn__right">
        <flux:content.render area="columnRight"/>
      </div>
    </div>
  </f:section>
</div>
